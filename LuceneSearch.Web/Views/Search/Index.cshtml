
@{
    ViewBag.Title = "Book Search";
}

<div class="col-md-10">
    <div class="form-horizontal">
        <h2>Search for books</h2>
        <div class="form-group">
            <div class="input-group col-md-12">
                <input type="text" class="  search-query form-control" placeholder="Search" id="searchValue">
                <span class="input-group-btn">
                    <button class="btn btn-danger" type="button" id="Search">
                        <span class=" glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </div>
        </div>
    </div>

    <div id="Results">

    </div>

</div>
<div class="clear"></div>

@section scripts {
    <script type="text/javascript">
        $(function () {

            $("#searchValue").keyup(function (e) {
                if (e.keyCode == 13) {
                    Search();
                }
            });
            $('#Search').on('click',function () {
                Search();
                return false;
            });

            function Search()
            {
                $.ajax({
                    url: '@Url.Action("SearchBooks","Search")',
                    type: 'get',
                    data: { searchTerm: $('#searchValue').val() },
                    success: function (result) {
                        $('#Results').html(result);
                    }
                });
            }
        });
    </script>
}

